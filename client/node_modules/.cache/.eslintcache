[{"/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/index.js":"1","/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/components/App.js":"2","/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/components/Login.js":"3","/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/components/Dashboard.js":"4","/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/components/useAuth.js":"5","/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/components/TrackSearchResult.js":"6"},{"size":198,"mtime":1650924676469,"results":"7","hashOfConfig":"8"},{"size":269,"mtime":1650928798770,"results":"9","hashOfConfig":"8"},{"size":607,"mtime":1650926614678,"results":"10","hashOfConfig":"8"},{"size":1928,"mtime":1651009837942,"results":"11","hashOfConfig":"8"},{"size":1181,"mtime":1650962515972,"results":"12","hashOfConfig":"8"},{"size":498,"mtime":1651010703334,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},"1z0795",{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"17"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"17"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35"},"/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/index.js",[],[],[],"/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/components/App.js",[],[],"/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/components/Login.js",[],[],"/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/components/Dashboard.js",["36"],[],"import React, { useState, useEffect } from 'react'\nimport useAuth from \"./useAuth\"\nimport { Container, Form } from \"react-bootstrap\"\nimport SpotifyWebApi from 'spotify-web-api-node'\nimport TrackSearchResult from './TrackSearchResult'\n\nconst spotifyApi = new SpotifyWebApi({\n  clientId: \"06466eddfb64409d9c23ab34d3fa8a21\",\n})\n\nfunction Dashboard({ code}) {\n    const accessToken = useAuth(code)\n    const [search, setSearch] = useState(\"\");\n    const [searchResults, setSearchResults] = useState([])\n    console.log(searchResults)\n\n   useEffect(() =>{\n      if (!accessToken) return\n      spotifyApi.setAccessToken(accessToken)\n   }, [accessToken])\n\n   useEffect(() => {\n      if (!search) return setSearchResults([])\n      if (!accessToken) return\n      \n      let cancel = false\n      spotifyApi.searchTracks(search).then(res => {\n        if (cancel) return\n        setSearchResults(res.body.tracks.items.map(track => {\n          const smallestAlbumImage = track.album.images.reduce((smallest, image) => {\n            if (image.height < smallest.height) return image\n            return smallest\n          }, track.album.images[0])\n\n          return {\n            artist: track.artists[0].name,\n            title: track.name,\n            uri: track.uri,\n            albumUrl: smallestAlbumImage.url\n          }\n        }))\n      })\n\n      return () => cancel = true\n   }, [search, accessToken])\n\n\n  return (\n    <Container className=\"d-flex flex-column py-2\" style={{ height: \"100vh\" }}>\n      <Form.Control \n        type=\"search\"\n        placeholder=\"Search Songs/Artists\"\n        value={search}\n        onChange={e => setSearch(e.target.value)}\n      />\n      <div className=\"flex-grow-1 my-2\" style={{ overflowY: \"auto\" }}>\n        {searchResults.map((track) => {\n          <TrackSearchResult track={track} key={track.uri} />\n        })}\n      </div>\n      <div>Bottom</div>\n    </Container>\n  )\n}\n\nexport default Dashboard;\n","/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/components/useAuth.js",["37"],[],"import React, { useEffect, useState } from 'react'\nimport axios from \"axios\"\n\nexport const useAuth = (code) => {\n  const [accessToken, setAccessToken] = useState()\n  const [refreshToken, setRefreshToken] = useState()\n  const [expiresIn, setExpiresIn] = useState()\n\n  useEffect(() => {\n    axios.post(\"http://localhost:3001/login\", {\n        code,\n    }).then(response => {\n        //console.log(response.data)\n        setAccessToken(response.data.accessToken)\n        setRefreshToken(response.data.refreshToken)\n        setExpiresIn(response.data.expiresIn)\n        window.history.pushState({},null,\"/\")\n    }).catch(() => {\n        window.location = \"/\"\n    })\n  },[code])\n\nuseEffect(() => {\n  if (!refreshToken || !expiresIn) return\n  const interval = setInterval(() => {\n   axios.post(\"http://localhost:3001/refresh\", {\n         refreshToken,\n     }).then(response => {\n         setAccessToken(response.data.accessToken)\n         setExpiresIn(response.data.expiresIn)\n     }).catch(() => {\n         window.location = \"/\"\n    })\n  }, (expiresIn - 60) * 1000)\n   \n   return () => clearInterval(interval)\n}, [refreshToken,expiresIn])\n\n  return accessToken\n}\nexport default useAuth;","/Users/shelvymurphy-brown/Desktop/spotify-react/client/src/components/TrackSearchResult.js",["38"],[],"import React from 'react'\n\nexport const TrackSearchResult = ({ track, pickedTrack }) => {\n\n  const handlePlay = () => {\n    pickedTrack(track)\n  }\n\n  return (\n    <div className=\"d-flex m-2 align-items-ceneter\" style={{ curso: \"pointer\" }} onClick={handlePlay}>\n      <img src={track.albumUrl} style={{height: \"64px\", width: \"64px\"}} />\n      <div className=\"ml-3\">\n        <div>{track.title}</div>\n        <div>{track.artist}</div>\n      </div>\n    </div>\n  )\n}\n\nexport default TrackSearchResult;\n",{"ruleId":"39","severity":1,"message":"40","line":57,"column":36,"nodeType":"41","messageId":"42","endLine":57,"endColumn":38},{"ruleId":"43","severity":1,"message":"44","line":1,"column":8,"nodeType":"45","messageId":"46","endLine":1,"endColumn":13},{"ruleId":"47","severity":1,"message":"48","line":11,"column":7,"nodeType":"49","endLine":11,"endColumn":75},"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-unused-vars","'React' is defined but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement"]